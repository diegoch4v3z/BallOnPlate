

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Building Multi Compartment Neuron Model using Stack Operations &mdash; NxSDK 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Spike Injection and Spike Receivers" href="spikeinjectionandreceivers.html" />
    <link rel="prev" title="Learning Engine Scaling" href="learning_engine_scaling.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> NxSDK
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introductory Material</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="nxapi.html">NxAPI</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="nxnet.html">NxNet API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="compartment.html">Compartment and CompartmentPrototype</a></li>
<li class="toctree-l2"><a class="reference internal" href="connection.html">Connection and ConnectionPrototype</a></li>
<li class="toctree-l2"><a class="reference internal" href="connectionsharing.html">Connection Sharing</a></li>
<li class="toctree-l2"><a class="reference internal" href="neuron.html">Neuron and NeuronPrototype</a></li>
<li class="toctree-l2"><a class="reference internal" href="groups.html">Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="netprobes.html">Working with Probes and Monitors in NxNet</a></li>
<li class="toctree-l2"><a class="reference internal" href="learningrule.html">Specifying a Learning Rule</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Building Multi Compartment Neuron Model using Stack Operations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relevant-tutorials">Relevant Tutorials</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="spikeinjectionandreceivers.html">Spike Injection and Spike Receivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="nxlogging.html">Logging in NxNet</a></li>
<li class="toctree-l2"><a class="reference internal" href="nxcompiler.html">NxCompiler</a></li>
<li class="toctree-l2"><a class="reference internal" href="nxnet_resource_map.html">NxNet Resource Map Interface</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nxcore.html">NxCore API</a></li>
<li class="toctree-l1"><a class="reference internal" href="composable.html">Composability</a></li>
<li class="toctree-l1"><a class="reference internal" href="embedded_execution_engine.html">Embedded Execution Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Nx SDK Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance-suite.html">NxSDK Performance Test Suite</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html">NxSDK Release History</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">NxSDK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="nxnet.html">NxNet API</a> &raquo;</li>
        
      <li>Building Multi Compartment Neuron Model using Stack Operations</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="building-multi-compartment-neuron-model-using-stack-operations">
<h1>Building Multi Compartment Neuron Model using Stack Operations<a class="headerlink" href="#building-multi-compartment-neuron-model-using-stack-operations" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This multi-compartment neuron interface will be deprecated after NxSDK release 0.8.  For the new neuron interface, see <a class="reference internal" href="neuron.html"><span class="doc">Neuron and NeuronPrototype</span></a></p>
</div>
<p>NxSDK API provides stackIn, stackOut and compartmentJoinOperation to build a multi-compartment neuron model. The
compartments need to be sequentially arranged in the address space so that the right compartments push and pop their
information.</p>
<p>Typically, you could build a two compartment neuron model using these stack operations where the first compartment
might act as the main compartment which consumes (POP) from the stack and the auxiliary compartment produces (PUSH)
into the stack. The compartment which consumes from the stack needs to define how the information is aggregated using
the compartmentJoinOperation. From NxNet, the order in which the compartments are created will reflect the order of
the compartments for the purposes of building multi-compartment neurons. The compartments of a multi-compartment
neuron must exist on the same logical core.</p>
<p>See below for various enum values of these operations.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To use stack operations, cxMetaState.phase or functional state of these compartments must be initialized as <strong>IDLE</strong></p>
</div>
<ul class="simple">
<li><p>The stack has a max depth of <strong>2</strong> so only binary trees can be built.</p></li>
<li><p>The peek operation is actually non-biological but can be useful because it allows to distribute from a sending compartment to multiple receiving compartments.</p></li>
</ul>
<div class="section" id="relevant-tutorials">
<h2>Relevant Tutorials<a class="headerlink" href="#relevant-tutorials" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><strong>NxNet</strong> <a class="reference internal" href="jupyter/e_neuronal_homeostasis.html"><span class="doc">Neuronal homeostasis</span></a></p></li>
<li><p><strong>NxCore</strong> <a class="reference internal" href="jupyter/j_soft_reset_core.html"><span class="doc">Soft Reset</span></a></p></li>
</ul>
<dl class="py class">
<dt id="nxsdk.api.enums.api_enums.COMPARTMENT_INPUT_MODE">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">nxsdk.api.enums.api_enums.</span></code><code class="sig-name descname"><span class="pre">COMPARTMENT_INPUT_MODE</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nxsdk.api.enums.api_enums.COMPARTMENT_INPUT_MODE" title="Permalink to this definition">¶</a></dt>
<dd><p>No input mode assigned yet (will default to SKIP at compile time)</p>
<dl class="py attribute">
<dt id="nxsdk.api.enums.api_enums.COMPARTMENT_INPUT_MODE.UNASSIGNED">
<code class="sig-name descname"><span class="pre">UNASSIGNED</span></code><em class="property"> <span class="pre">=</span> <span class="pre">-1</span></em><a class="headerlink" href="#nxsdk.api.enums.api_enums.COMPARTMENT_INPUT_MODE.UNASSIGNED" title="Permalink to this definition">¶</a></dt>
<dd><p>Input mode (peek/pop) for multi-compartment</p>
</dd></dl>

<dl class="py attribute">
<dt id="nxsdk.api.enums.api_enums.COMPARTMENT_INPUT_MODE.SKIP">
<code class="sig-name descname"><span class="pre">SKIP</span></code><em class="property"> <span class="pre">=</span> <span class="pre">0</span></em><a class="headerlink" href="#nxsdk.api.enums.api_enums.COMPARTMENT_INPUT_MODE.SKIP" title="Permalink to this definition">¶</a></dt>
<dd><p>Don't read from the Compartment Stack</p>
</dd></dl>

<dl class="py attribute">
<dt id="nxsdk.api.enums.api_enums.COMPARTMENT_INPUT_MODE.PEEK_A">
<code class="sig-name descname"><span class="pre">PEEK_A</span></code><em class="property"> <span class="pre">=</span> <span class="pre">1</span></em><a class="headerlink" href="#nxsdk.api.enums.api_enums.COMPARTMENT_INPUT_MODE.PEEK_A" title="Permalink to this definition">¶</a></dt>
<dd><p>Peek from the Compartment Stack</p>
</dd></dl>

<dl class="py attribute">
<dt id="nxsdk.api.enums.api_enums.COMPARTMENT_INPUT_MODE.POP_A">
<code class="sig-name descname"><span class="pre">POP_A</span></code><em class="property"> <span class="pre">=</span> <span class="pre">2</span></em><a class="headerlink" href="#nxsdk.api.enums.api_enums.COMPARTMENT_INPUT_MODE.POP_A" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop from the Compartment Stack</p>
</dd></dl>

<dl class="py attribute">
<dt id="nxsdk.api.enums.api_enums.COMPARTMENT_INPUT_MODE.POP_A_AND_B">
<code class="sig-name descname"><span class="pre">POP_A_AND_B</span></code><em class="property"> <span class="pre">=</span> <span class="pre">3</span></em><a class="headerlink" href="#nxsdk.api.enums.api_enums.COMPARTMENT_INPUT_MODE.POP_A_AND_B" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop two from the Compartment Stack</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="nxsdk.api.enums.api_enums.COMPARTMENT_OUTPUT_MODE">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">nxsdk.api.enums.api_enums.</span></code><code class="sig-name descname"><span class="pre">COMPARTMENT_OUTPUT_MODE</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nxsdk.api.enums.api_enums.COMPARTMENT_OUTPUT_MODE" title="Permalink to this definition">¶</a></dt>
<dd><p>No output mode assigned yet (will default to SKIP at compile time)</p>
<dl class="py attribute">
<dt id="nxsdk.api.enums.api_enums.COMPARTMENT_OUTPUT_MODE.UNASSIGNED">
<code class="sig-name descname"><span class="pre">UNASSIGNED</span></code><em class="property"> <span class="pre">=</span> <span class="pre">-1</span></em><a class="headerlink" href="#nxsdk.api.enums.api_enums.COMPARTMENT_OUTPUT_MODE.UNASSIGNED" title="Permalink to this definition">¶</a></dt>
<dd><p>Push for multi-compartment</p>
</dd></dl>

<dl class="py attribute">
<dt id="nxsdk.api.enums.api_enums.COMPARTMENT_OUTPUT_MODE.SKIP">
<code class="sig-name descname"><span class="pre">SKIP</span></code><em class="property"> <span class="pre">=</span> <span class="pre">0</span></em><a class="headerlink" href="#nxsdk.api.enums.api_enums.COMPARTMENT_OUTPUT_MODE.SKIP" title="Permalink to this definition">¶</a></dt>
<dd><p>Don't push to the Compartment Stack</p>
</dd></dl>

<dl class="py attribute">
<dt id="nxsdk.api.enums.api_enums.COMPARTMENT_OUTPUT_MODE.PUSH">
<code class="sig-name descname"><span class="pre">PUSH</span></code><em class="property"> <span class="pre">=</span> <span class="pre">1</span></em><a class="headerlink" href="#nxsdk.api.enums.api_enums.COMPARTMENT_OUTPUT_MODE.PUSH" title="Permalink to this definition">¶</a></dt>
<dd><p>Push (V,S) to the Compartment Stack. V denotes the membrane potential     while S is the event when <span class="math notranslate nohighlight">\(v &gt; vth\)</span></p>
</dd></dl>

<dl class="py attribute">
<dt id="nxsdk.api.enums.api_enums.COMPARTMENT_OUTPUT_MODE.PUSH_U">
<code class="sig-name descname"><span class="pre">PUSH_U</span></code><em class="property"> <span class="pre">=</span> <span class="pre">3</span></em><a class="headerlink" href="#nxsdk.api.enums.api_enums.COMPARTMENT_OUTPUT_MODE.PUSH_U" title="Permalink to this definition">¶</a></dt>
<dd><p>Push (U,S) to the Compartment Stack. U denotes the compartment current     while S is the event when <span class="math notranslate nohighlight">\(v &gt; vth\)</span></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="nxsdk.api.enums.api_enums.COMPARTMENT_JOIN_OPERATION">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">nxsdk.api.enums.api_enums.</span></code><code class="sig-name descname"><span class="pre">COMPARTMENT_JOIN_OPERATION</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nxsdk.api.enums.api_enums.COMPARTMENT_JOIN_OPERATION" title="Permalink to this definition">¶</a></dt>
<dd><p>Join operation for multi-compartment</p>
<dl class="py attribute">
<dt id="nxsdk.api.enums.api_enums.COMPARTMENT_JOIN_OPERATION.SKIP">
<code class="sig-name descname"><span class="pre">SKIP</span></code><em class="property"> <span class="pre">=</span> <span class="pre">0</span></em><a class="headerlink" href="#nxsdk.api.enums.api_enums.COMPARTMENT_JOIN_OPERATION.SKIP" title="Permalink to this definition">¶</a></dt>
<dd><p>Do not integrate input from input compartment</p>
</dd></dl>

<dl class="py attribute">
<dt id="nxsdk.api.enums.api_enums.COMPARTMENT_JOIN_OPERATION.ADD">
<code class="sig-name descname"><span class="pre">ADD</span></code><em class="property"> <span class="pre">=</span> <span class="pre">1</span></em><a class="headerlink" href="#nxsdk.api.enums.api_enums.COMPARTMENT_JOIN_OPERATION.ADD" title="Permalink to this definition">¶</a></dt>
<dd><p><span class="math notranslate nohighlight">\(C.dV[t] = C.U'[t] + A[t] + B[t]\)</span></p>
</dd></dl>

<dl class="py attribute">
<dt id="nxsdk.api.enums.api_enums.COMPARTMENT_JOIN_OPERATION.MAX">
<code class="sig-name descname"><span class="pre">MAX</span></code><em class="property"> <span class="pre">=</span> <span class="pre">2</span></em><a class="headerlink" href="#nxsdk.api.enums.api_enums.COMPARTMENT_JOIN_OPERATION.MAX" title="Permalink to this definition">¶</a></dt>
<dd><p><span class="math notranslate nohighlight">\(C.dV[t] = max(C.U'[t], A[t], B[t])\)</span></p>
</dd></dl>

<dl class="py attribute">
<dt id="nxsdk.api.enums.api_enums.COMPARTMENT_JOIN_OPERATION.MIN">
<code class="sig-name descname"><span class="pre">MIN</span></code><em class="property"> <span class="pre">=</span> <span class="pre">3</span></em><a class="headerlink" href="#nxsdk.api.enums.api_enums.COMPARTMENT_JOIN_OPERATION.MIN" title="Permalink to this definition">¶</a></dt>
<dd><p><span class="math notranslate nohighlight">\(C.dV[t] = min(C.U'[t], A[t], B[t])\)</span></p>
</dd></dl>

<dl class="py attribute">
<dt id="nxsdk.api.enums.api_enums.COMPARTMENT_JOIN_OPERATION.PASS">
<code class="sig-name descname"><span class="pre">PASS</span></code><em class="property"> <span class="pre">=</span> <span class="pre">4</span></em><a class="headerlink" href="#nxsdk.api.enums.api_enums.COMPARTMENT_JOIN_OPERATION.PASS" title="Permalink to this definition">¶</a></dt>
<dd><p><span class="math notranslate nohighlight">\(C.dV[t] = A.S[t] ? C.U'[t] + A[t] : 0\)</span> (Condition C.U'[t] + B[t] integration     by dendritic spike of A)</p>
</dd></dl>

<dl class="py attribute">
<dt id="nxsdk.api.enums.api_enums.COMPARTMENT_JOIN_OPERATION.BLOCK">
<code class="sig-name descname"><span class="pre">BLOCK</span></code><em class="property"> <span class="pre">=</span> <span class="pre">5</span></em><a class="headerlink" href="#nxsdk.api.enums.api_enums.COMPARTMENT_JOIN_OPERATION.BLOCK" title="Permalink to this definition">¶</a></dt>
<dd><p><span class="math notranslate nohighlight">\(C.dV[t] = A.S[t] ? 0: C.U'[t] + B[t]\)</span> (Condition C.U'[t] + B[t] integration     by A not providing a dendritic spike)</p>
</dd></dl>

<dl class="py attribute">
<dt id="nxsdk.api.enums.api_enums.COMPARTMENT_JOIN_OPERATION.OR">
<code class="sig-name descname"><span class="pre">OR</span></code><em class="property"> <span class="pre">=</span> <span class="pre">6</span></em><a class="headerlink" href="#nxsdk.api.enums.api_enums.COMPARTMENT_JOIN_OPERATION.OR" title="Permalink to this definition">¶</a></dt>
<dd><p><span class="math notranslate nohighlight">\(C.S'[t] = (A.S[t] | B.S[t] | C.S[t])\)</span></p>
</dd></dl>

<dl class="py attribute">
<dt id="nxsdk.api.enums.api_enums.COMPARTMENT_JOIN_OPERATION.AND">
<code class="sig-name descname"><span class="pre">AND</span></code><em class="property"> <span class="pre">=</span> <span class="pre">7</span></em><a class="headerlink" href="#nxsdk.api.enums.api_enums.COMPARTMENT_JOIN_OPERATION.AND" title="Permalink to this definition">¶</a></dt>
<dd><p><span class="math notranslate nohighlight">\(C.dS[t] = A.S[t] \&amp; B.S[t] \&amp; C.S[t]\)</span> (B.S=1 if <code class="docutils literal notranslate"><span class="pre">stackIn==POP</span></code>)</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="spikeinjectionandreceivers.html" class="btn btn-neutral float-right" title="Spike Injection and Spike Receivers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="learning_engine_scaling.html" class="btn btn-neutral float-left" title="Learning Engine Scaling" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2018-2021, Intel Corporation.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>